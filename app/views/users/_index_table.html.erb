<%
# initialize any undefined local variables
attribute_list ||= nil
unless defined?(editable)
  editable = true
end
%>
<table class="table table-condensed">
  <thead>
    <tr>
      <% if (attribute_list.nil? || attribute_list.include?(:first_name)) %>
        <th>First name</th>
      <% end %>
      <% if (attribute_list.nil? || attribute_list.include?(:last_name)) %>
        <th>Last name</th>
      <% end %>
      <% if (attribute_list.nil? || attribute_list.include?(:alias)) %>
        <th>Alias</th>
      <% end %>
      <% if (attribute_list.nil? || attribute_list.include?(:email)) %>
        <th>Email</th>
      <% end %>
      <% if (attribute_list.nil? || attribute_list.include?(:authentication_method)) %>
        <th>Authentication method</th>
      <% end %>
      <% if (attribute_list.nil? || attribute_list.include?(:admin)) %>
        <th>Admin</th>
      <% end %>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody id='items-tbody'>
    <%= render :partial => 'users/index_item', :collection => users, :as => :user, locals: { attribute_list: attribute_list, editable: editable } %>
  </tbody>
</table>
